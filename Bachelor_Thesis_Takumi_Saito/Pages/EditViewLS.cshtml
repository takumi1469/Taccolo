@page "{lsid?}"
@model Bachelor_Thesis_Takumi_Saito.Pages.EditViewLsModel
@{
    ViewData["Title"] = "EditViewLs";
}
@{
    Layout = "_taccoloLayout";
}
@section Styles {
    <link rel="stylesheet" href="/css/page-specific/EditViewLs.css" />
}
<p id="p-id">@Model.LsId</p>

<div class="div-main">
    <div class="div-title">
        <h1 class="h1-title">Edit and View Learning Set</h1>
        <div class="div-buttons" id="div-buttons">
            <button class="button-edit" id="button-edit" onclick="switchToEdit()">EDIT</button>
        </div>
    </div>
    <div class="div-basic-info">
        <span class="span-basic-info"><strong>Title: </strong>@Model.LsToDisplay?.Title</span>
        <span class="span-basic-info"><strong>From: </strong>@Model.LsToDisplay?.SourceLanguage</span>
        <span class="span-basic-info"><strong>To: </strong>@Model.LsToDisplay?.TargetLanguage</span>
    </div>
    @if (Model.LsId == null)
    {
        <h4>Learning Set is not chosen.</h4>
    }
    else
    {
        <div class="div-outputs">
            <div class="div-original div-output-column" id="div-original">
                <h2>Original Text</h2>
                @if (Model.LsToDisplay?.Input != null)
                {
                    <p class="p-original" id="p-original">@Html.Raw(Model.LsToDisplay?.Input.Replace("\n", "<br>"))</p>
                    //replace \n with <br> because HTML can't read \n as line breaks
                }
            </div>
            <div class="div-translated  div-output-column">
                <h2>Translated Text</h2>
                @if (Model.LsToDisplay?.Translation != null)
                {
                    <p class="p-translated" id="p-translated">@Html.Raw(Model.LsToDisplay?.Translation.Replace("\n", "<br>"))</p>
                    //replace \n with <br> because HTML can't read \n as line breaks
                }
            </div>
            <div class="div-glossary div-output-column">
                <h2>List of Words</h2>
                @{
                    int i = 0;
                }
                @foreach (WordMeaningPair pair in Model.LsToDisplay?.WordMeaningPairs)
                {
                    <div class="div-wordmeaningpair" id="div-wmp-@i">
                        <p class="p-word"><strong>@pair.Word</strong> : </p>
                        <p class="p-translated-text">@pair.TranslatedText</p><br />
                        @if (pair.Alternatives is not null && pair.Alternatives.Count > 0)
                        {
                            int j = 0;
                            <span>Alternatives:</span>
                            <ul class="ul-alternatives">
                                @foreach (string alternative in pair.Alternatives)
                                {
                                    <li class="li-alternative-meaning" id="li-alt-@j">@alternative</li>
                                    j++;
                                }
                            </ul>
                        }
                    </div>
                    i++;
                }
            </div>
        </div>
    }
</div>
<script src="/js/edit-view-ls.js"></script>